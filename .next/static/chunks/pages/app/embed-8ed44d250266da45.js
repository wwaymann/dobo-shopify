(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[971],{302:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/embed",function(){return n(8165)}])},8165:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var o=n(4232);function a(){let[e,t]=(0,o.useState)("idle");return(0,o.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("designUrl");if(!e)return void t("no-design");let n=!1;return(async()=>{try{t("fetching");let o=await fetch(e,{cache:"no-store"});if(!o.ok)throw Error("fetch ".concat(o.status));let a=await o.json(),i=(null==a?void 0:a.design)||a;t("waiting-api");for(let e=0;e<60;e++){if(n)return;let e=window.doboDesignAPI;if(e&&(e.loadDesignSnapshot||e.importDesignSnapshot||e.loadJSON)){try{e.reset&&e.reset(),e.loadDesignSnapshot?e.loadDesignSnapshot(i):e.importDesignSnapshot?e.importDesignSnapshot(i):e.loadJSON&&e.loadJSON(i),t("loaded")}catch(e){t("api-error")}return}await new Promise(e=>setTimeout(e,200))}t("api-timeout")}catch(e){t("error")}})(),()=>{n=!0}},[]),null}}},e=>{e.O(0,[636,593,792],()=>e(e.s=302)),_N_E=e.O()}]);