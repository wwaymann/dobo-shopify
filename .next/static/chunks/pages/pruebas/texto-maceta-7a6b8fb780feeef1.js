(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[319],{5465:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/pruebas/texto-maceta",function(){return n(8145)}])},8145:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(7876),l=n(4232);function a(){let e=["/maceta1.png","/maceta2.png","/maceta3.png","/maceta4.png","/maceta5.png","/maceta6.png","/maceta7.png","/maceta8.png"],[t,n]=(0,l.useState)(0),[a,i]=(0,l.useState)("Texto 1"),[o,u]=(0,l.useState)("#000000"),[s,c]=(0,l.useState)(60),[d,h]=(0,l.useState)(300),[x,m]=(0,l.useState)("Texto 2"),[g,f]=(0,l.useState)("#000000"),[y,p]=(0,l.useState)(40),[v,w]=(0,l.useState)(350),[j,b]=(0,l.useState)(null),E=(0,l.useRef)(null),C=(0,l.useRef)(null),S=(0,l.useRef)(null),M=(0,l.useRef)(0),[T,_]=(0,l.useState)(500);(0,l.useEffect)(()=>{let e=()=>{C.current&&_(Math.min(C.current.offsetWidth,500))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.map(e=>({...e}));for(let e=0;e<t;e++){let e=n.map(e=>({...e}));for(let t=1;t<n.length-1;t++)n[t].y=(e[t-1].y+e[t].y+e[t+1].y)/3}return n};(0,l.useEffect)(()=>{let n=new Image;n.src=e[t],n.crossOrigin="anonymous",n.onload=()=>{let e=document.createElement("canvas");e.width=500,e.height=500;let t=e.getContext("2d"),r=n.height/n.width*375,l=62.5,a=(500-r)/2;t.clearRect(0,0,500,500),t.drawImage(n,l,a,375,r);let i=t.getImageData(0,0,500,500).data,o=[],u=[],s=Math.round(75),c=Math.round(425);for(let e=0;e<=40;e++){let t=Math.round(s+(c-s)*e/40),n=null,r=null;for(let e=0;e<500;e++)if(i[(500*e+t)*4+3]>10){n=e;break}for(let e=499;e>=0;e--)if(i[(500*e+t)*4+3]>10){r=e;break}null!==n&&null!==r&&(o.push({x:t,y:n}),u.push({x:t,y:r}))}if(!o.length||!u.length)return void b(null);let d=k(o,3),x=k(u,3).map((e,t)=>{let n=d[t],r=e.y-n.y,l=e.y+.5*r;return l>490&&(l=490),{x:e.x,y:l}}),m=d.reduce((e,t)=>e+t.y,0)/d.length,g=x.reduce((e,t)=>e+t.y,0)/x.length,f=m+5,y=g-5;h((f+y)/2),w((f+y)/2+40),b({topPoints:d,bottomPoints:x,yMin:f,yMax:y,imageRect:{x:l,y:a,w:375,h:r}})}},[t]);let L=(e,t)=>{let n=E.current,r=n.createSVGPoint();return r.x=e,r.y=t,r.matrixTransform(n.getScreenCTM().inverse())},B=(e,t,n)=>{if(!j||!E.current)return;S.current=e;let{y:r}=L(t,n);M.current=r-(1===e?d:v)},O=(e,t)=>{if(!j||!S.current||!E.current)return;let{y:n}=L(e,t),r=n-M.current;r<j.yMin&&(r=j.yMin),r>j.yMax&&(r=j.yMax),1===S.current?h(r):w(r)};if((0,l.useEffect)(()=>{let e=e=>{S.current&&O(e.clientX,e.clientY)},t=()=>S.current=null,n=e=>{if(!S.current)return;let t=e.touches[0];O(t.clientX,t.clientY)},r=()=>S.current=null;return window.addEventListener("mousemove",e),window.addEventListener("mouseup",t),window.addEventListener("touchmove",n,{passive:!0}),window.addEventListener("touchend",r),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t),window.removeEventListener("touchmove",n),window.removeEventListener("touchend",r)}},[j]),!j)return(0,r.jsx)("p",{style:{textAlign:"center"},children:"Cargando…"});let{topPoints:P,bottomPoints:X,yMin:A,yMax:N,imageRect:R}=j,Y=e=>{let t=P.map((t,n)=>{let r=X[n];return{x:t.x,y:t.y*(1-e)+r.y*e}}),n="M ".concat(t[0].x," ").concat(t[0].y);for(let e=1;e<t.length;e++)n+=" L ".concat(t[e].x," ").concat(t[e].y);return n},D=(d-A)/(N-A),z=(v-A)/(N-A),W=Math.min(s,200)*(.75+.35*(1-D)),I=Math.min(y,200)*(.75+.35*(1-z)),F=Y(D),G=Y(z);return(0,r.jsxs)("div",{ref:C,style:{width:"100%",maxWidth:520,padding:10,margin:"0 auto"},children:[(0,r.jsx)("h3",{style:{textAlign:"center"},children:"DOBO – Editor Final (Curva A Extendida)"}),(0,r.jsx)("label",{children:"Texto 1"}),(0,r.jsx)("input",{value:a,onChange:e=>i(e.target.value),style:{width:"100%",marginBottom:8}}),(0,r.jsx)("label",{children:"Color:"}),(0,r.jsx)("input",{type:"color",value:o,onChange:e=>u(e.target.value),style:{marginBottom:15,display:"block"}}),(0,r.jsxs)("label",{children:["Tama\xf1o (m\xe1x 200): ",s,"px"]}),(0,r.jsx)("input",{type:"range",min:"10",max:"200",value:s,onChange:e=>c(Number(e.target.value)),style:{width:"100%",marginBottom:20}}),(0,r.jsx)("label",{children:"Texto 2"}),(0,r.jsx)("input",{value:x,onChange:e=>m(e.target.value),style:{width:"100%",marginBottom:8}}),(0,r.jsx)("label",{children:"Color:"}),(0,r.jsx)("input",{type:"color",value:g,onChange:e=>f(e.target.value),style:{marginBottom:15,display:"block"}}),(0,r.jsxs)("label",{children:["Tama\xf1o (m\xe1x 200): ",y,"px"]}),(0,r.jsx)("input",{type:"range",min:"10",max:"200",value:y,onChange:e=>p(Number(e.target.value)),style:{width:"100%",marginBottom:20}}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:12},children:[(0,r.jsx)("button",{onClick:()=>n(t=>0===t?e.length-1:t-1),children:"◀︎"}),(0,r.jsx)("button",{onClick:()=>n(t=>(t+1)%e.length),children:"▶︎"})]}),(0,r.jsxs)("svg",{ref:E,viewBox:"0 0 ".concat(500," ").concat(500),width:T,height:T,style:{width:"100%",height:"auto",background:"#fff",border:"1px solid #ccc",touchAction:"none"},children:[(0,r.jsx)("image",{href:e[t],x:R.x,y:R.y,width:R.w,height:R.h}),(0,r.jsx)("path",{id:"curve1",d:F,fill:"none"}),(0,r.jsx)("text",{fill:o,fontSize:W,fontWeight:"bold",textAnchor:"middle",onMouseDown:e=>B(1,e.clientX,e.clientY),onTouchStart:e=>{let t=e.touches[0];B(1,t.clientX,t.clientY)},style:{cursor:"grab"},children:(0,r.jsx)("textPath",{href:"#curve1",startOffset:"50%",children:a})}),(0,r.jsx)("path",{id:"curve2",d:G,fill:"none"}),(0,r.jsx)("text",{fill:g,fontSize:I,fontWeight:"bold",textAnchor:"middle",onMouseDown:e=>B(2,e.clientX,e.clientY),onTouchStart:e=>{let t=e.touches[0];B(2,t.clientX,t.clientY)},style:{cursor:"grab"},children:(0,r.jsx)("textPath",{href:"#curve2",startOffset:"50%",children:x})})]})]})}function i(){return(0,r.jsxs)("div",{style:{padding:"20px"},children:[(0,r.jsx)("h2",{children:"Prueba DOBO – Carrusel de Macetas y Texto Adaptado"}),(0,r.jsx)(a,{})]})}}},e=>{e.O(0,[636,593,792],()=>e(e.s=5465)),_N_E=e.O()}]);